<!DOCTYPE>
<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>syShaoyj1990</title>

<script src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
<script>


var sd=1421142450;
//初始化定义
wx.config({
    debug: false, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。
    appId: '${result.appId}', // 必填，公众号的唯一标识--->用户的微信公众号appid
    timestamp: sd, // 必填，生成签名的时间戳--->系统自己生成的时间戳。
    nonceStr: '${result.nonceStr}', // 必填，生成签名的随机串--->系统本地生成的UUID。
    signature: '${result.signature}',// 必填，签名，见附录1
    jsApiList: ['onMenuShareTimeline',
                'onMenuShareAppMessage',
                'onMenuShareQQ',
                'onMenuShareWeibo',
                'startRecord',
               'stopRecord',
                'onVoiceRecordEnd',
                'playVoice',
                'pauseVoice',
                'stopVoice',
                'onVoicePlayEnd',
                'uploadVoice',
                'downloadVoice',
                'chooseImage',
                'previewImage',
                'uploadImage',
                'downloadImage',
                'translateVoice',
                'getNetworkType',
                'openLocation',
                'getLocation',
                'hideOptionMenu',
               ' showOptionMenu',
               ' hideMenuItems',
                'showMenuItems',
               ' hideAllNonBaseMenuItem',
               ' showAllNonBaseMenuItem',
              '  closeWindow',
              '  scanQRCode',
              '  chooseWXPay',
               ' openProductSpecificView',
               ' addCard',
               ' chooseCard',
                'openCard'] // 必填，需要使用的JS接口列表，所有JS接口列表见附录2--->一大串CC+CV
});

  wx.config({
      debug: false ,
      appId: '${result.appId}',
      timestamp: sd,
      nonceStr: '${result.nonceStr}',
      signature: '${result.signature}',
      jsApiList: [
        'onMenuShareTimeline',
        'onMenuShareAppMessage',
        'onMenuShareQQ',
        'onMenuShareWeibo',
        'hideMenuItems',
        'showMenuItems',
        'hideOptionMenu',
        'showOptionMenu'      
      ]
  });

</script>

<script>
wx.ready(function () { 
//分享到qq
wx.onMenuShareQQ({
    title: '分享到qq', // 分享标题
    desc: '', // 分享描述
    link: '', // 分享链接
    imgUrl: '', // 分享图标
    success: function () { 
       // 用户确认分享后执行的回调函数
    },
    cancel: function () { 
       // 用户取消分享后执行的回调函数
    }
});


//地理位置
wx.getLocation({
    success: function (res) {
        var latitude = res.latitude; // 纬度，浮点数，范围为90 ~ -90
        var longitude = res.longitude; // 经度，浮点数，范围为180 ~ -180。
        var speed = res.speed; // 速度，以米/每秒计
        var accuracy = res.accuracy; // 位置精度
        alert("latitude : "+latitude+"--longitude : "+longitude+"--speed : "+speed+"--accuracy : "+accuracy);
    }
});

//分享到朋友圈
wx.onMenuShareTimeline({
title: 'syj，分享到朋友圈测试！',
   link: 'http://shaoyj1990.sinaapp.com', 
   imgUrl: 'http://image.baidu.com/detail/newindex?col=%E8%B5%84%E8%AE%AF&tag=%E5%A8%B1%E4%B9%90&pn=0&pid=5759608761913747677&aid=&user_id=10086&setid=-1&sort=0&newsPn=0&star=%E5%80%AA%E5%A6%AE&fr=&from=1', 
   success: function (res) {
alert("ok");
 }
});

//分享给朋友
wx.onMenuShareAppMessage({
title: 'syj，分享给朋友测试！',
   desc: '地球一小时,让地球母亲休息一小时！',
   link: 'http://www.baidu.com', 
   imgUrl: 'http://www.baidu.com', 
 success: function (res) {
 alert("ok");
 }
});

});


</script>
</head>
<body>
<button id="getLocation">click</button>
</body>
</html>