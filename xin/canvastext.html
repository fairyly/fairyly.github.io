<html><head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
		<title>画布测试</title>
		<script src="js/jquery-2.0.0.min.js"></script>
		<script type="text/javascript">
			function ok(){
				var canvas = document.getElementById("newCanvas");
				var ctx = canvas.getContext('2d');
				var docWidth = $("body").width();
				var docHeight = $(document).height();
				var bgImg = new Image();
    			bgImg.src = 'images/bg.jpg';
				ctx.drawImage(bgImg,0,0,640,900, 0, 0, 640, 900);
				var headImg = new Image();
    			headImg.src = 'images/head.jpg';
				ctx.drawImage(headImg,0,0,300,300, 100, 200, 300, 300);
			}
			
			function toImg(){
				var canvas = document.getElementById("newCanvas");
				document.getElementById("newImg").src = canvas.toDataURL("image/png");
				$('#bg').hide();
				$('#head').hide();
				$('#drawBut').hide();
				$('#toBut').hide();
				$('#newCanvas').hide();
			}
		</script>
		<style>
			html, body { width:100%; height:100%; margin:0; padding:0; }
		</style>
	</head>
	<body>
		<img id="bg" src="images/bg.jpg" width="100%">
		<br>
		<img id="head" src="images/head.jpg" width="100%">
		<br>
		<button id="drawBut" onclick="ok()">绘制海报</button>
		<button id="toBut" onclick="toImg()">生成图片</button>
		<canvas id="newCanvas" width="640" height="900" style="border: 1px solid #3E3E3E; width: 320px; height: 450px;"></canvas>
		<img id="newImg" src="" style="width: 100%;">
	

</body></html>