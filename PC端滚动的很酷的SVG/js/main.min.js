jQuery(document).ready(function(e){function a(){I=e(".pattern").outerWidth(),D=e(".pattern").outerHeight(),P=e(".scene").outerWidth(),P=I,C=P/Q,ratioSizeSpecial=(P+1e3)/(Q+2e3),TweenMax.set(".fromTop",{transformOrigin:"50% 0%"}),TweenMax.set(".fromBottom",{transformOrigin:"50% 100%"}),TweenMax.set("#truck",{scaleX:C,scaleY:C}),TweenMax.set("#roulotte",{scaleX:C,scaleY:C}),TweenMax.set(".element",{scaleX:C,scaleY:C}),TweenMax.set(".resized",{scaleX:C,scaleY:C}),TweenMax.set(".elementRatioSpecial",{scaleX:ratioSizeSpecial,scaleY:ratioSizeSpecial})}function t(a){e(a).remove()}function o(e){return{left:e.position().left,top:e.position().top,width:e.width(),height:e.height()}}function n(){e("#line").css("display","none")}function r(a,t,n,r){e("#line").css("display","block");var i=o(a),s=o(t),c=i.left+i.width/2+e("#truck").position().left,l=i.top+i.height/2+e("#truck").position().top,g=s.left+s.width/2+e("#roulotte").position().left,m=s.top+s.height/2+e("#roulotte").position().top,f=Math.sqrt((g-c)*(g-c)+(m-l)*(m-l)),p=(c+g)/2-f/2,u=(l+m)/2-r/2,d=Math.atan2(l-m,c-g)*(180/Math.PI),T="<div style='background-image:url("+DATA.template_url+"/svg/line.svg); background-size:cover;  background-position: top center;background-repeat: no-repeat;z-index:199;padding:0px; margin:0px; height:10px;   position:absolute; left:"+p+"px; top:"+u+"px; width:"+f+"px; -moz-transform:rotate("+d+"deg); -webkit-transform:rotate("+d+"deg); -o-transform:rotate("+d+"deg); -ms-transform:rotate("+d+"deg); transform:rotate("+d+"deg);' />";e("#wrapper #line").html(T)}function i(){j=0,TweenMax.to("#truck .carcasse",.1,{rotation:-1*j/10})}function s(){N+=.02*Math.abs(j/C),R=Math.round(e(".counter .global p").attr("count"))+N,e(".counter .global p").html(c(Math.round(R/100),7)),e(".counter .local p").html(c(Math.round(N),5)+"m"),e(".counter p").lettering()}function c(e,a){for(var t=e.toString();t.length<a;)t="0"+t;return t}function l(e){var a=Math.round(N);if(a!=U){var t={counter:a-U,action:"update"};U=a}else var t={counter:Math.round(N),action:"none"};jQuery.ajax({url:DATA.template_url+"/update_counter.php",type:"POST",data:t,dataType:"json",success:function(e){g(e.counter-Math.round(N))}})}function g(a){TweenMax.to(e(".counter .global p"),1,{attr:{count:a},onUpdate:s})}function m(){TweenMax.to("#truck .carcasse",.12,{y:1*Math.random()-2,yoyo:!0,repeat:1,ease:Power2.easeInOut,onComplete:m})}function f(e){(new TimelineMax).fromTo("#smoke"+e,1*Math.random(),{opacity:1,scaleX:0,scaleY:0,x:0,rotation:0},{rotation:180*Math.random(),opacity:.4,scaleX:1,scaleY:1,x:0-(20*Math.random()+50)-5*j,ease:Sine.easeIn}).to("#smoke"+e,1*Math.random(),{opacity:0,scaleX:1.2,scale:1.2,x:"-="+(10+4*j),onComplete:f,onCompleteParams:[e],ease:Sine.easeOut})}function p(){$=0,ee=!1}function u(a){e("body").data("page",a)}function d(){"ferme"==e("body").data("page")&&TweenMax.to(".ferme .tracteur_chassis img",.15,{y:-3,rotation:-2.5,yoyo:!0,repeat:1,ease:Power2.easeInOut,onComplete:d})}function T(a){"concert"==e("body").data("page")?TweenMax.to(".concert "+a+" img",1*Math.random()+.5,{rotation:40*Math.random()-20,ease:Quad.easeInOut,transformOrigin:"100% 0%",onComplete:T,onCompleteParams:[a]}):W=!0}function w(){"concert"==e("body").data("page")&&(TweenMax.to(".concert .vinyl_name",4,{rotation:"+=360",onComplete:w,ease:Linear.easeNone}),TweenMax.fromTo(".concert .vinyl_plate img",2,{rotation:-5,transformOrigin:"50% 50%"},{rotation:0,transformOrigin:"50% 50%",ease:Power2.easeInOut,yoyo:!0,repeat:1}))}function y(a){"concert"==e("body").data("page")&&TweenMax.fromTo(".concert "+a+" img",1*Math.random()+2,{transformOrigin:"50% 100%",opacity:1,scaleX:0,scaleY:0,rotation:30*Math.random()-15},{x:40*Math.random()-20,y:-40*Math.random(),opacity:0,scaleX:1,scaleY:1,ease:Strong.easeOut,onComplete:y,onCompleteParams:[a]})}function x(){"home"==e("body").data("page")&&pe?(ue={value:0},TweenMax.to(ue,.3*Math.random(),{delay:.5*Math.random(),value:1*Math.random(),yoyo:!0,repeat:1,onComplete:x,ease:Strong.easeIn,onUpdate:O,onUpdateParams:["{self}"]})):(TweenMax.killTweensOf(ue),TweenMax.to(ue,.2,{value:1,onUpdate:O,onUpdateParams:["{self}"]}))}function O(e){TweenMax.set(".lampe .off",{opacity:e.target.value}),TweenMax.set(".lueur img",{transformOrigin:"50% 50%",opacity:1-e.target.value,scaleX:3-3*e.target.value,scaleY:3-3*e.target.value})}function h(){if(W){for(var e=1;6>e;e++)y(".note"+e);T(".light_left"),T(".light_right"),w(),W=!1}}function M(a,t,o){var n=Snap.path.toCubic(e(a+" path:eq(0)").attr("d")),r=e(a).width(),i=e(a+" svg").attr("width"),s=Number(i.replace("px","")),c=r/s;dataLength=n.length,t.splice(0,t.length),pointsString=n.toString();for(var l=0;l<dataLength;l++){var g=n[l];if("M"===g[0]){var m={};m.x=g[1]*c+o*P,m.y=g[2]*c,t.push(m)}else for(var f=1;6>f;f+=2){var m={};m.x=g[f]*c+o*P,m.y=g[f+1]*c,t.push(m)}}}function k(){e("#menu").css("mix-blend-mode","normal"),e("#menu svg > g > g text").each(function(){var a=e(this).parent("g").parent("g"),t=(e("#menu svg > g").index(a)-1)/2;e(this).html(pages[t].title)}),e("#menu svg > g").mouseenter(function(){TweenMax.to(e(this).find("circle"),.3,{ease:Back.easeOut,transformOrigin:"50% 50%",css:{strokeWidth:"3",r:"10"}}),TweenMax.fromTo(e(this).find("g"),.3,{transformOrigin:"50% 100%",scaleX:0,scaleY:0,opacity:1,rotation:180*Math.random()-90},{ease:Back.easeOut,scaleX:.6,scaleY:.6,opacity:1,rotation:30*Math.random()-15})}),e("#menu svg > g").mouseleave(function(){TweenMax.to(e(this).find("circle"),.2,{ease:Back.easeIn,transformOrigin:"50% 50%",css:{strokeWidth:"3",r:"3"}}),TweenMax.to(e(this).find("g"),.2,{ease:Back.easeOut,transformOrigin:"50% 100%",scaleX:0,scaleY:0,opacity:1,rotation:180*Math.random()-90})}),e("#menu svg > g").click(function(){b(e("#menu svg > g").index(this))})}function S(e){-1!=e&&TweenMax.set(".pattern",{css:{"background-color":" "+V.top}})}function b(a){TweenMax.to(window,Math.abs(e(window).scrollLeft()-P*a)/50,{scrollTo:{x:P*a-(I-P)/2},ease:Sine.easeInOut,useFrames:!0,onComplete:p})}function E(){function a(){e("#truck").css("opacity",1),e("#roulotte").css("opacity",1)}e(".p_text p").each(function(){e(this).html(e(this).attr("aria-label"))}),e(".p_text img").each(function(){TweenMax.set(e(this),{y:0}),e(this).attr("style","")}),e(".p_text a").each(function(){TweenMax.set(e(this),{y:0}),e(this).attr("style","")}),e(".p_text span").each(function(){TweenMax.set(e(this),{y:0}),e(this).attr("style","")}),TweenMax.set(".resized",{scaleX:C,scaleY:C}),e(".p_text p").lettering("lines"),L=new ScrollMagic.Controller({vertical:!1});for(var t=0;7>t;t++){var o=e(".scene.page"+t).data("color");e(".scene.page"+t+" .p_container p");new ScrollMagic.Scene({triggerElement:".scene.page"+t,triggerHook:.5,duration:P/2}).setTween((new TimelineMax).add([TweenMax.to(V,.5,{colorProps:{top:o},onUpdate:S,onUpdateParams:[t],onReverseComplete:S,onReverseCompleteParams:["-1"],onComplete:S,onCompleteParams:["-1"]})])).addTo(L),6>t&&new ScrollMagic.Scene({triggerElement:".scene.page"+t+" + div",triggerHook:.5,duration:P/2}).setTween((new TimelineMax).add([TweenMax.to(V,.5,{colorProps:{top:"#fff"},onUpdate:S,onUpdateParams:[t],onReverseComplete:S,onReverseCompleteParams:["-1"],onComplete:S,onCompleteParams:["-1"]})])).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.page"+t,triggerHook:1,duration:2*P}).setTween((new TimelineMax).add([TweenMax.fromTo(".page"+t+" .p_text",100,{x:-(P/3)},{x:P/3,ease:Linear.easeNone}),TweenMax.fromTo(".page"+t+" .bg",100,{x:-(P/6)},{x:P/6,ease:Linear.easeNone})])).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.page"+t,triggerHook:.75,duration:P/2}).setTween((new TimelineMax).staggerFrom(".scene.page"+t+" .p_text span",.3,{opacity:0,y:100,transformOrigin:"0% 0% -50",ease:Strong.easeOut},.05).staggerFrom(".scene.page"+t+" .p_text a",.3,{opacity:0,y:100,transformOrigin:"0% 0% -50",ease:Strong.easeOut},.05)).addTo(L),new ScrollMagic.Scene({triggerElement:e(".scene.page"+t+" + div")[0],triggerHook:.5,duration:P/2}).setTween((new TimelineMax).staggerTo(".scene.page"+t+" .p_text span",.3,{opacity:0,y:-100,transformOrigin:"0% 0% -50",ease:Back.easeIn},.05).staggerTo(".scene.page"+t+" .p_text a",.3,{opacity:0,y:-100,transformOrigin:"0% 0% -50",ease:Back.easeIn},.05)).addTo(L)}var i=(new TimelineMax).add([TweenMax.fromTo("#menu .point",1,{opacity:0},{opacity:1}),TweenMax.to("#menu .point",100,{bezier:{type:"cubic",values:J,autoRotate:!1},ease:Linear.easeNone})]),s=(new ScrollMagic.Scene({triggerElement:".scene.home",triggerHook:0,duration:14*P}).setTween(i).addTo(L),(new TimelineMax).add([TweenMax.fromTo("#truck",1,{opacity:1},{opacity:1}),TweenMax.to("#truck",700,{bezier:{type:"cubic",values:Z,autoRotate:["x","y","rotation",0,!1]},transformOrigin:"50% 100%",ease:new Ease(BezierEasing(.96,.85,.99,.82))})])),c=(new ScrollMagic.Scene({triggerElement:".scene.home",triggerHook:"onLeave",duration:7*P}).setTween(s).addTo(L),(new TimelineMax).add([TweenMax.fromTo(".home .lampe",1,{x:P/5},{x:-(P/5),ease:Linear.easeNone}),TweenMax.fromTo(".home .lueur img",1,{x:P/15},{x:-(P/15),ease:Linear.easeNone}),TweenMax.fromTo(".home .bg",1,{x:-(P/5)},{x:P/5,ease:Linear.easeNone,onUpdate:u,onUpdateParams:["home"]})])),l=(new ScrollMagic.Scene({triggerElement:".scene.home",triggerHook:1,duration:2*P}).setTween(c).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.concept .couteau",triggerHook:.5}).setTween((new TimelineMax).fromTo(".concept .couteau",.5,{opacity:0,y:-1e3},{opacity:1,y:0,ease:Power2.easeIn}).to(".concept .couteau img",.8,{rotation:-30,transformOrigin:"50% 100%",ease:Elastic.easeOut})).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.concept .ketchup",triggerHook:.9}).setTween((new TimelineMax).fromTo(".concept .ketchup img",1,{scaleY:0,scaleX:0,rotation:-5,transformOrigin:"50% 100%"},{scaleY:1,scaleX:1,rotation:3,ease:Elastic.easeOut,transformOrigin:"50% 100%"})).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.concept .poulet1",triggerHook:1}).setTween((new TimelineMax).fromTo(".concept .poulet1 img",.8,{scaleY:.5,scaleX:.5,rotation:15,transformOrigin:"50% 100%"},{scaleY:1,scaleX:1,rotation:15,transformOrigin:"50% 100%",ease:Elastic.easeOut})).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.concept .fourchette",triggerHook:.5}).setTween((new TimelineMax).fromTo(".concept .fourchette",.5,{opacity:0,y:-1e3},{opacity:1,y:0,ease:Power2.easeIn}).fromTo(".concept .fourchette img",1,{rotation:15,transformOrigin:"50% 100%"},{rotation:25,transformOrigin:"50% 100%",ease:Elastic.easeOut})).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.concept .persil",triggerHook:.9}).setTween((new TimelineMax).fromTo(".concept .persil img",1,{scaleY:0,scaleX:0,y:10,transformOrigin:"50% 100%"},{scaleY:1,scaleX:1,rotation:-10,transformOrigin:"50% 100%",ease:Elastic.easeOut})).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.concept .moulinpoivre",triggerHook:1}).setTween((new TimelineMax).fromTo(".concept .moulinpoivre img",1,{rotation:50,y:10,transformOrigin:"50% 100%"},{rotation:-10,transformOrigin:"50% 100%",ease:Elastic.easeOut})).addTo(L),(new TimelineMax).add([TweenMax.fromTo(".concept .fanion1",1,{x:P/12},{x:-(P/12),ease:Linear.easeNone}),TweenMax.fromTo(".concept .fanion2",1,{x:-(P/20)},{x:P/20,ease:Linear.easeNone}),TweenMax.fromTo(".concept .bg",1,{x:-(P/5)},{x:P/5,ease:Linear.easeNone,onUpdate:u,onUpdateParams:["concept"]})]));new ScrollMagic.Scene({triggerElement:".scene.concept",triggerHook:1,duration:2*P}).setTween(l).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.ferme .tracteur_chassis",triggerHook:1}).setTween((new TimelineMax).to(".ferme .tracteur_chassis img",.1,{rotation:-3,transformOrigin:"50% 100%",ease:Elastic.easeOut,onComplete:d})).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.ferme .haie",triggerHook:.8}).setTween((new TimelineMax).fromTo(".ferme .haie img",.5,{rotation:10,scaleY:0,transformOrigin:"50% 100%"},{rotation:10,scaleY:1,transformOrigin:"50% 100%",ease:Back.easeOut})).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.ferme .tournesol_tige",triggerHook:.5}).setTween((new TimelineMax).fromTo(".ferme .tournesol_tige",1,{rotation:10,scaleX:1,scaleY:0,transformOrigin:"50% 100%"},{rotation:0,scaleX:1,scaleY:1,transformOrigin:"50% 100%",ease:Elastic.easeOut}).fromTo(".ferme .tournesol_fleur img",.5,{scaleX:.2,scaleY:.2,rotation:-180,transformOrigin:"50% 50%"},{scaleX:1,scaleY:1,rotation:0,transformOrigin:"50% 50%",ease:Back.easeOut},"-=0.9")).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.ferme .nuage1",triggerHook:.8}).setTween((new TimelineMax).fromTo(".ferme .nuage1 img",1,{y:-400},{y:0,ease:Elastic.easeOut})).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.ferme .nuage2",triggerHook:.6}).setTween((new TimelineMax).fromTo(".ferme .nuage2 img",1,{y:-400},{y:0,ease:Elastic.easeOut})).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.ferme .nuage3",triggerHook:.6}).setTween((new TimelineMax).fromTo(".ferme .nuage3 img",1,{y:-400},{y:0,ease:Elastic.easeOut})).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.ferme .soleil",triggerHook:.6}).setTween((new TimelineMax).fromTo(".ferme .soleil img",1,{y:-400},{y:0,ease:Elastic.easeOut})).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.ferme .fourche",triggerHook:.4}).setTween((new TimelineMax).fromTo(".ferme .fourche img",1,{rotation:10,transformOrigin:"50% 100%"},{rotation:30,ease:Bounce.easeOut,transformOrigin:"50% 100%"})).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.ferme .poule1",triggerHook:.7}).setTween((new TimelineMax).set(".ferme .poule1",{opacity:0}).set(".ferme .poule2",{opacity:1})).addTo(L);e(".scene.ferme .poule2").mouseenter(function(){TweenMax.set(".ferme .poule1",{opacity:0}),TweenMax.set(".ferme .poule2",{opacity:1})}),e(".scene.ferme .poule2").mouseleave(function(){TweenMax.set(".ferme .poule1",{opacity:1}),TweenMax.set(".ferme .poule2",{opacity:0})});var g=(new ScrollMagic.Scene({triggerElement:".scene.ferme .fourche",triggerHook:1}).setTween((new TimelineMax).fromTo(".ferme .fourche img",1,{scaleX:0,scaleY:0,transformOrigin:"50% 100%"},{scaleX:1,scaleY:1,ease:Elastic.easeOut,transformOrigin:"50% 100%"})).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.ferme .lait",triggerHook:.9}).setTween((new TimelineMax).fromTo(".ferme .lait",1,{y:-200,opacity:0},{y:0,opacity:1,ease:Bounce.easeOut}).fromTo(".ferme .lait img",1,{scaleY:1.3,scaleX:1,transformOrigin:"50% 100%"},{scaleY:1,scaleX:1,ease:Bounce.easeOut,transformOrigin:"50% 100%"},"-=1")).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.ferme .ble",triggerHook:.5}).setTween((new TimelineMax).fromTo(".ferme .ble img",1,{scaleY:0,scaleX:.5,rotation:0,transformOrigin:"50% 100%"},{scaleY:1,scaleX:1,rotation:-5,transformOrigin:"50% 100%",ease:Elastic.easeOut}).fromTo(".ferme .ble .epis4",1,{rotation:15,transformOrigin:"50% 100%"},{rotation:25,transformOrigin:"50% 100%",ease:Elastic.easeOut},"-=1").fromTo(".ferme .ble .epis1",1,{rotation:-10,transformOrigin:"50% 100%"},{rotation:-23,transformOrigin:"50% 100%",ease:Elastic.easeOut},"-=0.9").fromTo(".ferme .ble .epis2",1,{y:0,transformOrigin:"50% 100%"},{y:-100,transformOrigin:"50% 100%",ease:Elastic.easeOut},"-=0.8").fromTo(".ferme .ble .epis3",1,{rotation:10,transformOrigin:"50% 100%"},{rotation:15,transformOrigin:"50% 100%",ease:Elastic.easeOut},"-=1")).addTo(L),(new TimelineMax).add([TweenMax.fromTo(".ferme .nuage1",1,{x:-(P/10)},{x:P/10,ease:Linear.easeNone}),TweenMax.fromTo(".ferme .nuage2",1,{x:-(P/15)},{x:P/15,ease:Linear.easeNone}),TweenMax.fromTo(".ferme .nuage3",1,{x:-(P/5)},{x:P/5,ease:Linear.easeNone}),TweenMax.fromTo(".ferme .soleil",1,{x:-(P/8)},{x:P/8,ease:Linear.easeNone}),TweenMax.fromTo(".ferme .bg",1,{x:-(P/5)},{x:P/5,ease:Linear.easeNone,onUpdate:u,onUpdateParams:["ferme"]})])),m=(new ScrollMagic.Scene({triggerElement:".scene.ferme",triggerHook:1,duration:2*P}).setTween(g).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.concert .rampelight",triggerHook:.7}).setTween((new TimelineMax).fromTo(".concert .rampelight",1,{y:-400},{y:0,ease:Bounce.easeOut}).fromTo(".concert .rampelight img",1,{rotation:0,transformOrigin:"100% 0%"},{rotation:-5,ease:Bounce.easeOut,transformOrigin:"100% 0%"},"-=0.6").fromTo(".concert .rampelight .barre1",1,{y:-100},{y:0,ease:Bounce.easeOut},"-=1").fromTo(".concert .light_left img",.5,{opacity:0,transformOrigin:"100% 0%"},{rotation:-10,opacity:1,transformOrigin:"100% 0%",onComplete:T,onCompleteParams:[".light_left"]},"-=0.5").fromTo(".concert .light_right img",.5,{opacity:0,transformOrigin:"100% 0%"},{rotation:-10,opacity:1,transformOrigin:"100% 0%",onComplete:T,onCompleteParams:[".light_right"]},"-=0.5")).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.concert .vinyl_plate",triggerHook:1}).setTween((new TimelineMax).fromTo(".concert .vinyl_plate",2,{y:400},{y:0,ease:Quad.easeInOut})).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.concert .guitar",triggerHook:.9}).setTween((new TimelineMax).to(".concert .guitar img",1,{transformOrigin:"10% 100%",rotation:-20,ease:Bounce.easeOut})).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.concert .jack",triggerHook:.7}).setTween((new TimelineMax).fromTo(".concert .jack img",.5,{transformOrigin:"100% 50%",scale:0,scaleY:0},{scale:1,scaleY:1,rotation:20,ease:Back.easeOut})).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.concert .mojito",triggerHook:.8}).setTween((new TimelineMax).fromTo(".concert .mojito",.5,{y:-200,opacity:0},{y:0,opacity:1,ease:Bounce.easeOut}).to(".concert .mojito img",.5,{transformOrigin:"0% 100%",rotation:7,ease:Bounce.easeOut},"-=0.3").fromTo(".concert .mojito .paille",.5,{y:-200,opacity:0},{y:0,opacity:1,ease:Back.easeOut},"-=0.3").to(".concert .mojito .paille img",1,{transformOrigin:"50% 100%",rotation:25,ease:Quad.easeOut},"-=0.5")).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.concert .trompet",triggerHook:.8}).setTween((new TimelineMax).fromTo(".concert .trompet img",.5,{transformOrigin:"0% 50%",scale:0,scaleY:0},{scale:1,scaleY:1,rotation:-30,ease:Back.easeOut})).addTo(L),(new TimelineMax).add([TweenMax.fromTo(".concert .rampelight",1,{x:P/10},{x:-(P/10),ease:Linear.easeNone,onUpdate:u,onUpdateParams:["concert"]}),TweenMax.fromTo(".concert .bg",1,{x:-(P/6)},{x:P/6,ease:Linear.easeNone,onUpdate:h})])),f=(new ScrollMagic.Scene({triggerElement:".scene.concert",triggerHook:1,duration:2*P}).setTween(m).addTo(L),(new TimelineMax).add([TweenMax.to("#truck",1,{opacity:0}),TweenMax.fromTo(".paris .bg",100,{x:-(P/6)},{x:P/6,ease:Linear.easeNone}),TweenMax.fromTo(".paris .avion",100,{x:P/4},{x:-(P/4),ease:Linear.easeNone}),TweenMax.fromTo(".paris .eiffel",100,{x:-(P/10)},{x:P/10,ease:Linear.easeNone}),TweenMax.fromTo(".paris .building",100,{x:-(P/13)},{x:P/13,ease:Linear.easeNone}),TweenMax.fromTo(".paris .platane",100,{x:-(P/15)},{x:P/15,ease:Linear.easeNone,onUpdate:u,onUpdateParams:["paris"]})])),p=(new ScrollMagic.Scene({triggerElement:".scene.paris",triggerHook:1,duration:2*P}).setTween(f).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.paris .parasol",triggerHook:.7}).setTween((new TimelineMax).fromTo(".paris .parasol img",1,{transformOrigin:"50% 100%"},{rotation:30,ease:Bounce.easeOut})).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.paris .building",triggerHook:.7}).setTween((new TimelineMax).fromTo(".paris .building img",.5,{scaleY:0,transformOrigin:"50% 100%"},{scaleY:1,ease:Back.easeOut})).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.paris .banc",triggerHook:.9}).setTween((new TimelineMax).fromTo(".paris .banc img",1,{y:-400,opacity:0,transformOrigin:"0% 100%"},{y:0,opacity:1,ease:Bounce.easeOut})).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.paris .eiffel",triggerHook:.7}).setTween((new TimelineMax).fromTo(".paris .eiffel img",.5,{scaleY:0,transformOrigin:"50% 100%"},{scaleY:1,ease:Back.easeOut})).addTo(L),(new TimelineMax).add([TweenMax.fromTo("#truck",1,{opacity:0},{opacity:1}),TweenMax.fromTo("#roulotte",1,{opacity:0},{opacity:1}),TweenMax.to("#truck",350,{onStart:a,bezier:{type:"cubic",values:q,autoRotate:["x","y","rotation",0,!1]},transformOrigin:"50% 100%",ease:Sine.easeOut}),TweenMax.to("#roulotte",220,{onReverseComplete:n,onComplete:n,onUpdate:r,onUpdateParams:[e("#truck .truck_anchor"),e("#roulotte .roulotte_anchor"),"#000",3],delay:12,bezier:{type:"cubic",values:K,autoRotate:["x","y","rotation",0,!1]},transformOrigin:"50% 100%",ease:Sine.easeOut}),TweenMax.fromTo("#line",1,{opacity:1},{delay:160,opacity:0})])),y=(new ScrollMagic.Scene({triggerElement:".scene.duck",triggerHook:.4,duration:2*P}).setTween(p).addTo(L),(new TimelineMax).add([TweenMax.fromTo(".mariage .bg",100,{x:-(P/6)},{x:P/6,ease:Linear.easeNone,onUpdate:u,onUpdateParams:["mariage"]}),TweenMax.fromTo(".mariage .bague",100,{y:-(P/50),rotation:0,x:P/7},{y:0,rotation:-5,x:-(P/20),ease:Linear.easeNone})])),O=(new ScrollMagic.Scene({triggerElement:".scene.mariage",triggerHook:1,duration:2*P}).setTween(y).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.mariage .piano",triggerHook:.7}).setTween((new TimelineMax).fromTo(".mariage .piano img",.5,{rotation:-9,scaleY:0,opacity:0,transformOrigin:"100% 100%"},{rotation:-9,scaleY:1,opacity:1,ease:Back.easeOut})).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.mariage .arbrecoeur",triggerHook:.7}).setTween((new TimelineMax).fromTo(".mariage .arbrecoeur img",.3,{scaleY:0,scaleX:0,transformOrigin:"50% 100%"},{scaleY:1,scaleX:1,rotation:-4,opacity:1,ease:Back.easeOut})).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.mariage .rose",triggerHook:.7}).setTween((new TimelineMax).fromTo(".mariage .rose img",.4,{y:100,scaleY:.3,opacity:0,scaleX:0,rotation:-15,transformOrigin:"50% 100%"},{y:0,opacity:1,scaleY:1,scaleX:1,rotation:-15,opacity:1,ease:Back.easeOut})).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.mariage .coupechampagne",triggerHook:.7}).setTween((new TimelineMax).fromTo(".mariage .coupechampagne img",1,{rotation:0,y:-400,opacity:0,transformOrigin:"50% 100%"},{y:0,rotation:7,opacity:1,ease:Bounce.easeOut})).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.mariage .gateau",triggerHook:.9}).setTween((new TimelineMax).fromTo(".mariage .gateau img",.5,{scaleY:0,scaleX:0,transformOrigin:"50% 100%"},{rotation:5,scaleY:1,scaleX:1,ease:Back.easeOut}).fromTo(".mariage .maries",.3,{y:-100,opacity:0,transformOrigin:"50% 100%"},{y:0,opacity:1,ease:Back.easeOut}).fromTo("#roulotte .moutarde",.5,{opacity:0,y:100},{opacity:1,y:0,ease:Back.easeOut},"-=1").fromTo("#roulotte .ketchup",.5,{opacity:0,y:100},{opacity:1,y:0,ease:Back.easeOut},"-=0.5").fromTo("#roulotte .parasol",.5,{opacity:0,y:100,scaleX:0},{opacity:1,y:0,scaleX:1,ease:Back.easeOut},"-=0.5")).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.mariage .bouchon",triggerHook:.9}).setTween((new TimelineMax).fromTo(".mariage .bouchon img",.5,{scaleY:0,scaleX:0,rotation:20,transformOrigin:"50% 100%"},{scaleY:1,scaleX:1,rotation:20,ease:Back.easeOut})).addTo(L),(new TimelineMax).add([TweenMax.to("#truck",300,{bezier:{type:"cubic",values:G,autoRotate:["x","y","rotation",0,!1]},transformOrigin:"50% 100%",ease:new Ease(BezierEasing(.5,.01,.99,.66))})])),M=(new ScrollMagic.Scene({triggerElement:".scene.carte",triggerHook:.6,duration:3.6*P}).setTween(O).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.cuisine .flammes",triggerHook:.8}).setTween((new TimelineMax).fromTo(".cuisine .flammes ",.5,{opacity:0},{opacity:1})).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.cuisine .huile",triggerHook:1}).setTween((new TimelineMax).fromTo(".cuisine .huile img",1,{rotationZ:180,transformOrigin:"50% 100%"},{rotationZ:0,ease:Elastic.easeOut})).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.cuisine .oignon",triggerHook:.8}).setTween((new TimelineMax).fromTo(".cuisine .oignon img",.5,{scaleY:0,scaleX:0,transformOrigin:"50% 100%"},{scaleY:1,scaleX:1,ease:Back.easeOut})).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.cuisine .cornichon",triggerHook:.9}).setTween((new TimelineMax).fromTo(".cuisine .cornichon img",1,{y:-400,opacity:0,transformOrigin:"50% 100%"},{y:0,opacity:1,ease:Bounce.easeOut})).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.cuisine .credence",triggerHook:.4}).setTween((new TimelineMax).fromTo(".cuisine .credence .barre",.5,{rotation:0,transformOrigin:"100% 100%"},{rotation:-2,ease:Bounce.easeOut}).fromTo(".cuisine .credence .piment",2,{rotation:0,transformOrigin:"50% 0%"},{rotation:2,ease:Elastic.easeOut},"-=0.5").fromTo(".cuisine .credence .cuilliere",2,{rotation:1,transformOrigin:"50% 0%"},{rotation:3,ease:Elastic.easeOut},"-=2").fromTo(".cuisine .slideshow_container",2,{rotation:0,transformOrigin:"100% 0%"},{rotation:-4,ease:Elastic.easeOut},"-=2")).addTo(L),(new TimelineMax).add([TweenMax.fromTo(".cuisine .bg",100,{x:-(P/6)},{x:P/6,ease:Linear.easeNone,onUpdate:u,onUpdateParams:["cuisine"]}),TweenMax.fromTo(".cuisine .slideshow_container",100,{x:-(P/8)},{x:P/8,ease:Linear.easeNone}),TweenMax.fromTo(".cuisine .credence",100,{x:-(P/8)},{x:P/8,ease:Linear.easeNone}),TweenMax.fromTo(".cuisine .porte_note",100,{x:-(P/8)},{x:P/8,ease:Linear.easeNone})])),k=(new ScrollMagic.Scene({triggerElement:".scene.cuisine",triggerHook:1,duration:2*P}).setTween(M).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.contact .boite",triggerHook:.7}).setTween((new TimelineMax).fromTo(".contact .boite img",1,{rotation:0,opacity:0,transformOrigin:"50% 100%"},{rotation:-10,opacity:1,ease:Elastic.easeOut})).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.contact .plante",triggerHook:.7}).setTween((new TimelineMax).fromTo(".contact .plante img",1,{scaleX:0,scaleY:0,rotation:0,opacity:0,transformOrigin:"50% 100%"},{scaleX:1,scaleY:1,rotation:-3,opacity:1,ease:Elastic.easeOut})).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.contact .coeur",triggerHook:.6}).setTween((new TimelineMax).fromTo(".contact .coeur img",1,{y:-400,opacity:0,transformOrigin:"50% 100%"},{y:0,opacity:1,ease:Bounce.easeOut})).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.contact .phone",triggerHook:.7}).setTween((new TimelineMax).fromTo(".contact .phone img",1,{rotation:90,scaleX:0,scaleY:0,opacity:0,transformOrigin:"50% 100%"},{scaleX:1,scaleY:1,opacity:1,rotation:0,ease:Elastic.easeOut})).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.contact .iphone",triggerHook:.7}).setTween((new TimelineMax).fromTo(".contact .iphone .app_container",1,{rotation:0,opacity:0,transformOrigin:"50% 100%"},{rotation:8,opacity:1,ease:Elastic.easeOut})).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.contact .poule",triggerHook:.7}).setTween((new TimelineMax).fromTo(".contact .poule img",1,{scaleX:0,scaleY:0,rotation:0,opacity:0,transformOrigin:"50% 100%"},{scaleX:1,scaleY:1,rotation:8,opacity:1,ease:Elastic.easeOut})).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.contact .fb",triggerHook:.7}).setTween((new TimelineMax).fromTo(".contact .fb img",1,{y:-200,opacity:0,transformOrigin:"50% 100%"},{y:0,opacity:1,ease:Elastic.easeOut})).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.contact .mail",triggerHook:.7}).setTween((new TimelineMax).fromTo(".contact .mail img",1,{y:-200,opacity:0,transformOrigin:"50% 100%"},{y:0,opacity:1,ease:Elastic.easeOut})).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.contact .mpcarte",triggerHook:.7}).setTween((new TimelineMax).fromTo(".contact .mpcarte img",1,{y:-200,opacity:0,transformOrigin:"50% 100%"},{y:0,opacity:1,ease:Elastic.easeOut})).addTo(L),new ScrollMagic.Scene({triggerElement:".scene.contact .instagram",triggerHook:.7}).setTween((new TimelineMax).fromTo(".contact .instagram img",1,{y:-200,opacity:0,transformOrigin:"50% 100%"},{y:0,opacity:1,ease:Elastic.easeOut})).addTo(L),(new TimelineMax).add([TweenMax.fromTo(".contact .bg",100,{x:-(P/6)},{x:P/6,ease:Linear.easeNone,onUpdate:u,onUpdateParams:["contact"]}),TweenMax.fromTo(".contact .fb",100,{x:P/20},{x:-(P/20),ease:Linear.easeNone}),TweenMax.fromTo(".contact .mail",100,{x:-(P/13)},{x:P/13,ease:Linear.easeNone}),TweenMax.fromTo(".contact .mpcarte",100,{x:-(P/10)},{x:P/10,ease:Linear.easeNone}),TweenMax.fromTo(".contact .instagram",100,{x:-(P/13)},{x:P/13,ease:Linear.easeNone})]));new ScrollMagic.Scene({triggerElement:".scene.contact",triggerHook:1,duration:2*P}).setTween(k).addTo(L);e(".home .lampe").each(function(){var a=e(this).position().top/C;TweenMax.set(e(this).find(".suspension"),{transformOrigin:"50% "+-1*a+"px"});var t=Draggable.create(e(this).find(".suspension"),{onDrag:v,onDragParams:[e(this)],type:"rotation",edgeResistance:1,trigger:e(this).find(".btn"),bounds:{minRotation:-89,maxRotation:89},onDragEnd:X,onDragEndParams:[e(this)]});e(this).find(".btn").mouseenter(function(e){t[0].startDrag(e)}),e(this).find(".btn").mouseleave(function(e){t[0].endDrag(e)})}),e(".home .lampe .btnOnOff").click(function(){pe=pe?!1:!0,x()}),e(".btnSusp").each(function(){var a=e(this).position().top/C;TweenMax.set(e(this).find(".suspension"),{transformOrigin:"50% "+-1*a+"px"});Draggable.create(e(this).find(".suspension"),{type:"rotation",edgeResistance:1,trigger:e(this).find(".btn"),bounds:{minRotation:-89,maxRotation:89}}),Draggable.create(e(this).find(".elem"),{cursor:"pointer",type:"y",edgeResistance:.3,bounds:e(this).find(".elem"),trigger:e(this).find(".btn"),onDragEnd:X,onDragEndParams:[e(this),this],onClick:Y,onClickParams:[e(this)]})}),e(".element.couteau").each(function(){Draggable.create(e(this).find("img"),{type:"rotation",edgeResistance:.9,trigger:e(this),bounds:{minRotation:-30,maxRotation:30}}),Draggable.create(e(this),{type:"y",edgeResistance:1,trigger:e(this),bounds:{minX:0,maxX:0,minY:-500,maxY:0},onDragEnd:X,onDragEndParams:[e(this),this,-30,"Elastic.easeOut"]})}),e(".element.fourchette").each(function(){Draggable.create(e(this).find("img"),{type:"rotation",edgeResistance:.9,trigger:e(this),bounds:{minRotation:-30,maxRotation:30}}),Draggable.create(e(this),{type:"y",edgeResistance:1,trigger:e(this),bounds:{minX:0,maxX:0,minY:-500,maxY:0},onDragEnd:X,onDragEndParams:[e(this),this,25,"Elastic.easeOut"]})}),e(".paille").each(function(){Draggable.create(e(this).find("img"),{type:"rotation",edgeResistance:.9,trigger:e(this),bounds:{minRotation:-20,maxRotation:20}}),Draggable.create(e(this),{type:"y",edgeResistance:1,trigger:e(this),bounds:{minX:0,maxX:0,minY:-500,maxY:0},onDragEnd:X,onDragEndParams:[e(this),this,25,"Quad.easeOut"]})}),e(".element.vinyl").each(function(){Draggable.create(e(this).find(".vinyl_name"),{type:"rotation",edgeResistance:.9,trigger:e(this),onDragEnd:w})});var b=new TimelineMax({timescale:1}).to("#start",1,{opacity:0,scaleX:0,scaleY:0,transformOrigin:"50% 50%",ease:Back.easeInOut}).fromTo("#border_outside",1,{opacity:0,scaleX:0,scaleY:0,transformOrigin:"50% 50%"},{opacity:1,scaleX:1,scaleY:1,ease:Back.easeInOut,transformOrigin:"50% 50%"},"-=1").fromTo("#border_inside",1.1,{opacity:0,scaleX:0,scaleY:0,transformOrigin:"50% 50%"},{opacity:1,scaleX:1,scaleY:1,ease:Back.easeInOut,transformOrigin:"50% 50%"},"-=1").fromTo("#banner_middle",1,{opacity:0,scaleX:0,scaleY:.7,transformOrigin:"50% 50%"},{opacity:1,scaleX:1,scaleY:1,ease:Back.easeInOut,transformOrigin:"50% 50%"},"-=0.95").fromTo("#banner_left",1,{opacity:0,scaleX:0,scaleY:0,x:100,y:-5,transformOrigin:"50% 50%"},{opacity:1,scaleX:1,scaleY:1,x:0,y:0,ease:Back.easeInOut,transformOrigin:"50% 50%"},"-=0.9").fromTo("#banner_right",1,{opacity:0,scaleX:0,scaleY:0,x:-100,y:5,transformOrigin:"50% 50%"},{opacity:1,scaleX:1,scaleY:1,x:0,y:0,ease:Back.easeInOut,transformOrigin:"50% 50%"},"-=1").fromTo("#point_right",1,{opacity:0,scaleX:0,scaleY:0,x:-30,y:30,transformOrigin:"50% 50%"},{opacity:1,scaleX:1,scaleY:1,x:0,y:0,ease:Back.easeInOut,transformOrigin:"50% 50%"},"-=1").fromTo("#point_left",1,{opacity:0,scaleX:0,scaleY:0,x:30,y:30,transformOrigin:"50% 50%"},{opacity:1,scaleX:1,scaleY:1,x:0,y:0,ease:Back.easeInOut,transformOrigin:"50% 50%"},"-=1").fromTo("#tool1",1,{opacity:0,x:30,rotation:15,transformOrigin:"50% 50%"},{opacity:1,x:0,rotation:0,ease:Back.easeInOut,transformOrigin:"50% 50%"
},"-=0.8").fromTo("#tool2",1,{opacity:0,x:15,rotation:5,transformOrigin:"50% 50%"},{opacity:1,x:0,rotation:0,ease:Back.easeInOut,transformOrigin:"50% 50%"},"-=0.8").fromTo("#tool3",1,{opacity:0,x:-15,rotation:-5,transformOrigin:"50% 50%"},{opacity:1,x:0,rotation:0,ease:Back.easeInOut,transformOrigin:"50% 50%"},"-=0.8").fromTo("#tool4",1,{opacity:0,x:-30,rotation:-15,transformOrigin:"50% 50%"},{opacity:1,x:0,rotation:0,ease:Back.easeInOut,transformOrigin:"50% 50%"},"-=0.8").staggerFromTo("#word path",.5,{opacity:0,rotation:-5,transformOrigin:"50% 50%"},{opacity:1,rotation:0,ease:Back.easeInOut,transformOrigin:"50% 50%"},.05,"-=1.2").to("#plats #cadre",1.5,{opacity:1,strokeDashoffset:0,transformOrigin:"50% 50%"},"-=0").fromTo("#plats #shadow",1,{x:5,y:-5},{opacity:1,x:0,y:0,transformOrigin:"50% 50%"},"-=0").staggerFromTo("ul.element li:nth-child(1) .bloc_text li",.5,{opacity:0,y:10},{y:0,opacity:1},.1,"-=0.5"),E=(new ScrollMagic.Scene({triggerElement:".scene.carte #plats",triggerHook:.7}).setTween(b.timeScale(1.5)).addTo(L),(new TimelineMax).to("#desserts #start",1,{opacity:0,scaleX:0,scaleY:0,transformOrigin:"50% 50%",ease:Back.easeInOut}).fromTo("#desserts #border",1,{opacity:0,scaleX:0,scaleY:0,rotation:120,transformOrigin:"50% 50%"},{opacity:1,scaleX:1,scaleY:1,rotation:0,ease:Back.easeInOut,transformOrigin:"50% 50%"},"-=1").fromTo("#desserts #inside",1.2,{opacity:0,scaleX:0,scaleY:0,transformOrigin:"50% 50%"},{opacity:1,scaleX:1,scaleY:1,ease:Back.easeInOut,transformOrigin:"50% 50%"},"-=1").fromTo("#desserts #banner",1.1,{opacity:1,scaleX:1,scaleY:0,rotation:-60,transformOrigin:"50% 50%"},{opacity:1,scaleX:1,scaleY:1,rotation:0,ease:Back.easeOut,transformOrigin:"50% 50%"},"-=0.8").fromTo("#desserts #word2",1.1,{opacity:1,scaleX:1,rotation:-60,transformOrigin:"50% 50%"},{opacity:1,scaleX:1,scaleY:1,rotation:0,ease:Back.easeOut,transformOrigin:"50% 50%"},"-=1").staggerTo("#desserts #word2 path",1,{opacity:1,strokeDashoffset:0,transformOrigin:"50% 50%"},.05,"-=1.2").staggerTo("#desserts #word1 path",1,{opacity:1,strokeDashoffset:0,transformOrigin:"50% 50%"},.05,"-=1.2").to("#desserts #cadre",1.5,{opacity:1,strokeDashoffset:0,transformOrigin:"50% 50%"},"-=0").staggerFromTo("ul.element li:nth-child(3) .bloc_text li",.5,{opacity:0,y:10},{y:0,opacity:1},.1,"-=0.5")),B=(new ScrollMagic.Scene({triggerElement:".scene.carte #desserts",triggerHook:.8}).setTween(E.timeScale(1.7)).addTo(L),(new TimelineMax).to("#sauces #start",1,{opacity:0,scaleX:0,scaleY:0,transformOrigin:"50% 50%",ease:Back.easeInOut}).fromTo("#sauces #border",1,{opacity:1,scaleX:0,scaleY:0,rotation:-90,transformOrigin:"50% 50%"},{opacity:1,scaleX:1,scaleY:1,rotation:0,transformOrigin:"50% 50%",ease:Back.easeOut},"-=0.5").to("#sauces #borderTop",1.5,{opacity:1,strokeDashoffset:0,transformOrigin:"50% 50%"},"-=1").to("#sauces #borderBottom",1.5,{opacity:1,strokeDashoffset:0,transformOrigin:"50% 50%"},"-=1.5").fromTo("#sauces #bannerTop",1,{opacity:0,scaleX:0,scaleY:0,y:20,transformOrigin:"50% 50%"},{opacity:1,scaleX:1,scaleY:1,y:0,ease:Back.easeInOut,transformOrigin:"50% 50%"},"-=1.5").fromTo("#sauces #bannerBottom",1,{opacity:0,scaleX:0,scaleY:0,y:-20,transformOrigin:"50% 50%"},{opacity:1,scaleX:1,scaleY:1,y:0,ease:Back.easeOut,transformOrigin:"50% 50%"},"-=1").staggerFromTo("#sauces #word1 path",1,{scaleX:0,scaleY:0,x:-10,rotation:-30,transformOrigin:"50% 50%"},{scaleX:1,scaleY:1,x:0,rotation:0,opacity:1,transformOrigin:"50% 50%",ease:Back.easeInOut},.1,"-=1").staggerFromTo("#sauces #word2 path",1,{scaleX:0,scaleY:0,x:-10,rotation:-30,transformOrigin:"50% 50%"},{scaleX:1,scaleY:1,x:0,rotation:0,opacity:1,transformOrigin:"50% 50%",ease:Back.easeInOut},.1,"-=1").to("#sauces #sausage",.1,{opacity:1},"-=2").to("#sauces #sausage",2,{strokeDashoffset:0,transformOrigin:"50% 50%"},"-=2").staggerFromTo("#sauces #sausageReflect path",.5,{opacity:0,scaleX:0,scaleY:0,transformOrigin:"50% 50%"},{opacity:1,scaleX:1,scaleY:1,transformOrigin:"50% 50%"},.1,"-=2").to("#sauces #borderTopReflect",.1,{opacity:1},"-=2").to("#sauces #borderBottomReflect",.1,{opacity:1},"-=2").to("#sauces #borderTopReflect",1,{strokeDashoffset:0,transformOrigin:"50% 50%"},"-=2").to("#sauces #borderBottomReflect",1,{strokeDashoffset:0,transformOrigin:"50% 50%"},"-=2").to("#sauces #cadre1",1,{opacity:1,strokeDashoffset:0,transformOrigin:"50% 50%"},"-=0").to("#sauces #cadre2",1,{opacity:1,strokeDashoffset:0,transformOrigin:"50% 50%"},"-=0.5").staggerFromTo("ul.element li:nth-child(4) .bloc_text li",.5,{opacity:0,y:10},{y:0,opacity:1},.1,"-=0.5")),H=(new ScrollMagic.Scene({triggerElement:".scene.carte #sauces",triggerHook:.75}).setTween(B.timeScale(2)).addTo(L),(new TimelineMax).to("#accompagnements #start",1,{opacity:0,scaleX:0,scaleY:0,rotation:55,transformOrigin:"50% 50%",ease:Back.easeInOut}).fromTo("#accompagnements #bannerLeft",1,{opacity:0,scaleX:0,scaleY:1,skewY:-15,rotation:0,transformOrigin:"0% 50%"},{opacity:1,scaleX:1,scaleY:1,skewY:-15,rotation:-15,ease:Back.easeInOut,transformOrigin:"0% 50%"},"-=1").fromTo("#accompagnements #bannerMiddle",1,{opacity:0,scaleX:0,scaleY:1,skewY:-15,rotation:0,transformOrigin:"0% 50%"},{opacity:1,scaleX:1,scaleY:1,skewY:-15,rotation:-15,ease:Back.easeInOut,transformOrigin:"0% 50%"},"-=0.7").fromTo("#accompagnements #bannerRight",1,{opacity:0,scaleX:0,scaleY:1,skewY:-15,rotation:0,transformOrigin:"0% 50%"},{opacity:1,scaleX:1,scaleY:1,skewY:-15,rotation:-15,ease:Back.easeInOut,transformOrigin:"0% 50%"},"-=0.7").fromTo("#accompagnements #word2",1.1,{opacity:1,scaleX:1,rotation:0,transformOrigin:"50% 50%"},{opacity:1,scaleX:1,scaleY:1,rotation:0,ease:Back.easeOut,transformOrigin:"50% 50%"},"-=1").staggerFromTo("#accompagnements #word2 path",.5,{scaleX:0,scaleY:0,x:-10,rotation:-30,transformOrigin:"50% 50%"},{scaleX:1,scaleY:1,x:0,rotation:0,opacity:1,transformOrigin:"50% 50%",ease:Back.easeInOut},.05,"-=1").staggerFromTo("#accompagnements #word1 path",.5,{x:-10,y:3,opacity:0,transformOrigin:"50% 50%"},{x:0,y:0,opacity:1,strokeDashoffset:0,transformOrigin:"50% 50%",ease:Back.easeInOut},.1,"-=1.2").staggerFromTo("#accompagnements #dotBottom path",.5,{x:100*Math.random(),y:100*Math.random(),opacity:0,transformOrigin:"50% 50%"},{x:0,y:0,opacity:1,strokeDashoffset:0,transformOrigin:"50% 50%",ease:Back.easeInOut},.05,"-=1.2").to("#accompagnements #cadre",1.5,{opacity:1,strokeDashoffset:0,transformOrigin:"50% 50%"},"-=0").fromTo("#accompagnements #shadow",1,{transformOrigin:"50% 50%",scaleY:0},{opacity:1,scaleY:1},"-=0.5").staggerFromTo("ul.element li:nth-child(2) .bloc_text li",.5,{opacity:0,y:10},{y:0,opacity:1},.1,"-=0.5").staggerFromTo("#accompagnements #logo g",.5,{opacity:0,y:10},{y:0,opacity:1},.3,"-=0.5"));new ScrollMagic.Scene({triggerElement:".scene.carte #accompagnements",triggerHook:.7}).setTween(H.timeScale(2)).addTo(L)}function Y(e){e.find(".btn").data("href")?window.open(e.find(".btn").data("href"),"_blank"):"infos"==e.find(".btn").data("target")&&H()}function X(e,a,t,o){null!=t?(TweenMax.to(e.find("img"),.7,{delay:.5,ease:o,rotation:t}),TweenMax.to(e,.5,{ease:Strong.easeIn,y:0})):(TweenMax.to(e.find(".elem"),2,{ease:Elastic.easeOut,rotationZ:0,y:0,x:0}),TweenMax.to(e.find(".suspension"),2,{ease:Elastic.easeOut,rotationZ:0,onUpdate:v,onUpdateParams:[e]}))}function v(a){TweenMax.set(e(".lueur"),{x:a.find(".btn").position().left+a.width()/2})}function B(e){var a=e[0].getTotalLength();e.css("stroke-dasharray",a),e.css("stroke-dashoffset",a)}function H(){TweenMax.to(e(".boxInfos"),.5,{x:"-100%",ease:Strong.easeOut}),TweenMax.to(e(".icon.infos"),.25,{scaleX:0,scaleY:0,rotation:-180}),TweenMax.to(e(".icon.abs"),.25,{delay:.35,scaleX:1,scaleY:1,ease:Back.easeOut,rotation:0})}function _(){TweenMax.to(e(".boxInfos"),.5,{x:"0%",ease:Strong.easeIn}),TweenMax.to(e(".icon.abs"),.25,{scaleX:0,scaleY:0,rotation:180}),TweenMax.to(e(".icon.infos"),.25,{delay:.25,scaleX:1,scaleY:1,ease:Back.easeOut,rotation:0})}Pace.start(),e("window").scrollLeft(0),e(".loadingText").html("0%"),e("body").hasClass("pace-running")&&(interLoading=setInterval(function(){var a=(e(".pace-progress").attr("data-progress"),e(".pace-progress").attr("data-progress-text"));e(".loadingText").html(a),"100%"==a&&(TweenMax.set(window,{scrollTo:{x:0}}),clearInterval(interLoading),TweenMax.to(".loadingText",.5,{delay:.3,ease:Strong.easeIn,y:-400,opacity:0}),TweenMax.to("#loading",.7,{delay:1,css:{top:"-100vh"},transformOrigin:"50% 0%",onComplete:t,onCompleteParams:["#loading"],ease:Strong.easeOut}),TweenMax.to("#menu",.5,{delay:.5,css:{bottom:"100vh"},ease:Strong.easeIn}),TweenMax.to("#menu .point img",.1,{opacity:1,delay:2}),TweenMax.fromTo("#menu",.5,{css:{bottom:"-100px"}},{css:{bottom:"0"},delay:1,ease:Strong.easeInOut,immediateRender:!1,opacity:1,onComplete:k}),TweenMax.from(".logo_blue",.7,{y:100,delay:1.1,ease:Strong.easeOut,immediateRender:!1}),TweenMax.from(".lampe img",2,{y:-300,delay:1.1,ease:Elastic.easeOut}),TweenMax.to(".lampe .off",1,{opacity:0,delay:2,onComplete:x}),TweenMax.fromTo(".lueur img",1,{opacity:0,scaleX:0,scaleY:0,transformOrigin:"50% 50%"},{opacity:1,scaleX:3,scaleY:3,delay:2}))},10));var I,D,P,L,C,R=e(".counter .global span").data("counter"),N=0,U=0,z=new Lethargy(7,50,.05),F=0,A=0,j=0,Q=1920,W=!0,Z=[],q=[],G=[],J=[],K=[],V={top:"#fff"},$=0,ee=!1,ae=!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,te="undefined"!=typeof InstallTrigger,oe=(Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,!!document.documentMode),ne=(!oe&&!!window.StyleMedia,!!window.chrome&&!!window.chrome.webstore);(ne||ae)&&!!window.CSS;ne||te?e(".icon.browser").remove():(e(".icon.browser").mouseenter(function(){e(this).css("animation","none"),e(this).find("span").html('Pour apprécier le Poulé, utilisez <a href="https://www.google.com/chrome/browser/desktop/">Chrome</a> ou <a href="https://www.mozilla.org/fr/firefox/new/">Firefox</a> en full HDé !')}),e(".icon.browser").mouseleave(function(){e(this).find("span").html(""),e(this).css("animation","iconBrowser 1s infinite")})),a(),s(),e(window).bind("resize",function(){a(),M("#road1",Z,0),M("#road2",q,8),M("#road3",G,11.5),M("#menu",J,0),K=q.slice(0,22),L=L.destroy(!0),E()}),M("#road1",Z,0),M("#road2",q,8),M("#road3",G,11.5),M("#menu",J,0),K=q.slice(0,22);var re=document.createElement("audio");re.setAttribute("src",DATA.template_url+"/sounds/klaxon_court.mp3");var ie=document.createElement("audio");ie.setAttribute("src",DATA.template_url+"/sounds/klaxon_long.mp3");var se=0;e("#truck").click(function(){5==se?(se=0,ie.play()):(re.currentTime=0,re.play(),se++)});var ce,le;window.onscroll=function(){if(le=e("body").data("page"),le!=ce&&null!=le){switch(le){case"home":x();break;case"concept":e("#truck").css("display","block");break;case"ferme":d(),e("#truck").css("display","block");break;case"concert":e("#truck").css("display","block"),W=!0,h();break;case"paris":break;case"mariage":e("#truck").css("display","block"),e("#roulotte").css("display","block")}ce=le}("paris"==le||"mariage"==le)&&(roulotteSpeed=me(),A+=1.2*roulotteSpeed,e("#roulotte .wheel").css("transform","rotate("+A/C+"deg)"),e("#roulotte .wheel.front").css("transform","rotate("+A/C/2+"deg)")),clearTimeout(a);var a=setTimeout(i,100);j=ge(),s(),F+=1.2*j,e("#truck .wheel").css("transform","rotate("+F/C+"deg)"),j>15&&(j=15),-15>j&&(j=-15),TweenMax.to("#truck .carcasse",.1,{rotation:-1*j/10}),j>-2&&2>j?e("#truck .light_stop.on").css("opacity",1):(e("#truck .light_stop.on").css("opacity",0),-2>j?e("#truck .light_rewind.on").css("opacity",1):e("#truck .light_rewind.on").css("opacity",0))},l(),e(window).on("beforeunload",function(){l("update")}),setInterval(l,1e4);var ge=function(a){function t(){o=null,i=0}a=a||{};var o,n,r,i,s=a.delay||200;return t(),function(){return n=e("#truck").position().left,null!=o&&(i=n-o),o=n,clearTimeout(r),r=setTimeout(t,s),i}}(),me=function(a){function t(){o=null,i=0}a=a||{};var o,n,r,i,s=a.delay||100;return t(),function(){return n=e("#roulotte").position().left,null!=o&&(i=n-o),o=n,clearTimeout(r),r=setTimeout(t,s),i}}();m();for(var fe=1;4>fe;fe++)setTimeout(f,500*fe,fe);e(window).bind("mousewheel DOMMouseScroll wheel MozMousePixelScroll",function(e){e.preventDefault(),e.stopPropagation();var a=z.check(e);a&&1!=ee&&($!=a&&0!=$?(ee=!0,TweenMax.to(window,.5,{scrollTo:{x:"+="+P/30*a},ease:Sine.easeOut,onComplete:p})):TweenMax.isTweening(window)?TweenMax.to(window,1.8,{scrollTo:{x:"+="+P/2*-1*a},ease:Sine.easeOut,onComplete:p}):TweenMax.to(window,.9,{scrollTo:{x:"+="+P/4*-1*a},ease:Sine.easeInOut,onComplete:p}),$=a)});var pe=!0,ue={value:0};E(),e(".slideshow").responsiveSlides({auto:!1,speed:1e3,timeout:3e3,pager:!1,nav:!0,random:!1,prevText:"<img src='"+DATA.template_url+"/svg/arrow_left.svg'>",nextText:"<img src='"+DATA.template_url+"/svg/arrow_right.svg'>",pauseControls:!0,before:function(){},after:function(){}}),e("#plats path#cadre").each(function(){B(e(this))}),e("#accompagnements path#cadre").each(function(){B(e(this))}),e("#desserts #word1 path").each(function(){B(e(this))}),e("#desserts #word2 path").each(function(){B(e(this))}),e("#desserts path#cadre").each(function(){B(e(this))}),e("#sauces #borderTop").each(function(){B(e(this))}),e("#sauces #borderTopReflect").each(function(){B(e(this))}),e("#sauces #borderBottom").each(function(){B(e(this))}),e("#sauces #borderBottomReflect").each(function(){B(e(this))}),e("#sauces #sausage").each(function(){B(e(this))}),e("#sauces #cadre1").each(function(){B(e(this))}),e("#sauces #cadre2").each(function(){B(e(this))}),e(".icon.infos").click(function(){H()}),e(".icon.abs").click(function(){_()}),e(".phone").click(function(){H()})});